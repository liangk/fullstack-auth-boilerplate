---
import { getCollection, render } from 'astro:content';
import DocPage from '../../layouts/DocPage.astro';

export async function getStaticPaths() {
	const docs = await getCollection('docs');
	return docs.map((doc) => ({
		params: { slug: doc.id.replace('.md', '') },
		props: { doc },
	}));
}

const { doc } = Astro.props;
const { Content } = await render(doc);

const title = doc.id.replace('.md', '').split('-').map(word => 
	word.charAt(0).toUpperCase() + word.slice(1)
).join(' ');
---

<DocPage title={title}>
	<Content />
</DocPage>
