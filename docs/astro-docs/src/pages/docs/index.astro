---
import BaseHead from '../../components/BaseHead.astro';
import Footer from '../../components/Footer.astro';
import Header from '../../components/Header.astro';

const menuStructure = [
	{
		category: 'Getting Started',
		items: [
			{ title: 'Introduction', slug: 'readme' },
			{ title: 'Quick Start', slug: 'getting-started' },
			{ title: 'Installation', slug: 'installation' },
			{ title: 'Environment Configuration', slug: 'environment-configuration' },
		]
	},
	{
		category: 'Core Concepts',
		items: [
			{ title: 'Architecture Overview', slug: 'architecture' },
			{ title: 'Authentication Flow', slug: 'authentication-flow' },
			{ title: 'Features', slug: 'features' },
			{ title: 'Security Best Practices', slug: 'security' },
		]
	},
	{
		category: 'API Documentation',
		items: [
			{ title: 'API Reference', slug: 'api-reference' },
			{ title: 'Authentication Endpoints', slug: 'api-auth' },
			{ title: 'Dashboard Endpoints', slug: 'api-dashboard' },
			{ title: 'Error Handling', slug: 'error-handling' },
		]
	},
	{
		category: 'Frontend',
		items: [
			{ title: 'Frontend Architecture', slug: 'frontend-architecture' },
			{ title: 'Components Guide', slug: 'components' },
			{ title: 'Services Guide', slug: 'services' },
			{ title: 'Guards & Interceptors', slug: 'guards-interceptors' },
			{ title: 'Dashboard Guide', slug: 'dashboard' },
		]
	},
	{
		category: 'Backend',
		items: [
			{ title: 'Backend Architecture', slug: 'backend-architecture' },
			{ title: 'Controllers', slug: 'controllers' },
			{ title: 'Middleware', slug: 'middleware' },
			{ title: 'Database Schema', slug: 'database-schema' },
			{ title: 'Email Service', slug: 'email-service' },
		]
	},
	{
		category: 'Development',
		items: [
			{ title: 'Development Guide', slug: 'development' },
			{ title: 'Testing Guide', slug: 'testing' },
			{ title: 'Code Style Guide', slug: 'code-style' },
			{ title: 'Docker Guide', slug: 'docker' },
		]
	},
	{
		category: 'Deployment',
		items: [
			{ title: 'Deployment Overview', slug: 'deployment' },
			{ title: 'Environment Variables (Production)', slug: 'deploy-environment' },
			{ title: 'Vercel Deployment', slug: 'deploy-vercel' },
		]
	},
	{
		category: 'Advanced Topics',
		items: [
			{ title: 'Custom Authentication Strategies', slug: 'custom-auth' },
			{ title: 'Role-Based Access Control', slug: 'rbac' },
			{ title: 'API Rate Limiting', slug: 'rate-limiting' },
			{ title: 'Monitoring & Logging', slug: 'monitoring' },
		]
	},
	{
		category: 'Examples & Tutorials',
		items: [
			{ title: 'Example Use Cases', slug: 'examples' },
			{ title: 'Tutorial: Adding a New Feature', slug: 'tutorial-new-feature' },
			{ title: 'Tutorial: Custom Email Templates', slug: 'tutorial-email-templates' },
		]
	},
	{
		category: 'Reference',
		items: [
			{ title: 'Troubleshooting', slug: 'troubleshooting' },
			{ title: 'FAQ', slug: 'faq' },
			{ title: 'Changelog', slug: 'changelog' },
			{ title: 'Contributing', slug: 'contributing' },
		]
	},
];
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title="Documentation" />
	</head>
	<body>
		<Header />
		<main>
			<div class="docs-container">
				<h1>Documentation</h1>
				<p class="intro">
					Complete guide to the StackInsight Auth Lite
				</p>

				<div class="menu-sections">
					{menuStructure.map((section) => (
						<div class="menu-section">
							<h2>{section.category}</h2>
							<ul>
								{section.items.map((item) => (
									<li>
										<a href={`/docs/${item.slug}`}>{item.title}</a>
									</li>
								))}
							</ul>
						</div>
					))}
				</div>
			</div>
		</main>
		<Footer />
	</body>
</html>

<style lang="scss">
	main { flex: 1; background-color: #fff; }
	.docs-container { max-width: 900px; margin: 0 auto; padding: 3rem 2rem;
		h1 { margin: 0 0 0.5rem; color: #1a1a1a; font-size: 2.5rem; }
		.intro { font-size: 1.1rem; color: #666; margin-bottom: 3rem; }
	}
	.menu-sections { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem;
		.menu-section {
			h2 { font-size: 1.2rem; color: #333; margin: 0 0 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--accent); }
			ul { list-style: none; padding: 0; margin: 0;
				li { margin-bottom: 0.75rem;
					a { display: block; padding: 0.5rem 0.75rem; color: #555; text-decoration: none; border-radius: 4px; transition: all 0.2s;
						&:hover { background: #f5f5f5; color: var(--accent); padding-left: 1rem; }
					}
				}
			}
		}
	}
	@media (max-width: 768px) {
		.docs-container { padding: 2rem 1rem;
			h1 { font-size: 2rem; }
		}
		.menu-sections { grid-template-columns: 1fr; gap: 2rem; }
	}
</style>
